{"version":3,"sources":["webpack:///./src/pages/newsletter.js","webpack:///./src/components/container.js","webpack:///./src/utils/form-styles.js","webpack:///./src/components/email-capture-form.js","webpack:///./node_modules/react-icons/lib/md/send.js"],"names":["display","flexDirection","NewsLetter","render","location","this","props","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_6__","react_helmet__WEBPACK_IMPORTED_MODULE_3__","_components_container__WEBPACK_IMPORTED_MODULE_7__","hasSideBar","className","Object","emotion__WEBPACK_IMPORTED_MODULE_0__","_ref","id","style","marginTop","_components_email_capture_form__WEBPACK_IMPORTED_MODULE_8__","signupMessage","confirmMessage","overrideCSS","rhythm","paddingTop","borderTop","colors","lilac","Component","Container","_Object$assign","children","_ref$className","_ref$hasSideBar","_ref$overrideCSS","emotion__WEBPACK_IMPORTED_MODULE_1__","assign","maxWidth","presets","maxWidthWithSidebar","margin","padding","options","blockMarginBottom","paddingBottom","position","Tablet","__webpack_require__","d","__webpack_exports__","formInput","_utils_presets__WEBPACK_IMPORTED_MODULE_0__","_utils_presets__WEBPACK_IMPORTED_MODULE_0___default","n","_utils_typography__WEBPACK_IMPORTED_MODULE_1__","backgroundColor","border","ui","bright","borderRadius","radius","color","brand","fontFamily","headerFontFamily","join","verticalAlign","transition","animation","speedDefault","curveDefault","::placeholder","gatsby","opacity","StyledForm","styled","target","Desktop","isHomepage","Label","isRequired","warning","SingleLineInput","hex2rgba","SingleLineInputOnHomepage","systemFontFamily","ErrorMessage","SuccesMessage","Submit","buttonStyles","default","SubmitOnHomepage","Form","_this","_React$Component","call","state","errorMessage","fieldErrors","onSubmit","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default","email","e","_this2","preventDefault","_this$props","portalId","formId","sfdcCampaignId","url","data","fields","name","value","context","pageUri","window","href","pageName","document","title","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","response","JSON","parse","responseText","status","onSuccess","thankYouMessage","inlineMessage","errors","errorRe","map","error","_errorRe$exec","exec","message","fieldName","setState","send","stringify","_this3","SingleLineInputComponent","react__WEBPACK_IMPORTED_MODULE_4___default","htmlFor","type","required","autoComplete","innerRef","input","aria-label","placeholder","react_icons_lib_md_send__WEBPACK_IMPORTED_MODULE_6___default","React","EmailCaptureForm","_this4","_React$Component2","successMessage","_this5","_this$props2","FormComponent","Fragment","dangerouslySetInnerHTML","__html","light","defaultProps","defineProperty","exports","_extends","i","arguments","length","source","key","prototype","hasOwnProperty","_react2","_interopRequireDefault","require","_reactIconBase2","obj","__esModule","viewBox","module"],"mappings":"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","file":"component---src-pages-newsletter-js-cefb73b81b6ad2eea16a.js","sourcesContent":["import React, { Component } from \"react\"\nimport { Helmet } from \"react-helmet\"\nimport { rhythm } from \"../utils/typography\"\nimport { colors } from \"../utils/presets\"\n\nimport Layout from \"../components/layout\"\nimport Container from \"../components/container\"\nimport EmailCaptureForm from \"../components/email-capture-form\"\n\nclass NewsLetter extends Component {\n  render() {\n    const { location } = this.props\n\n    return (\n      <Layout location={location}>\n        <Helmet>\n          <title>Newsletter</title>\n        </Helmet>\n        <Container\n          hasSideBar={false}\n          css={{\n            display: `flex`,\n            flexDirection: `column`,\n          }}\n        >\n          <h1 id=\"introduction\" style={{ marginTop: 0 }}>\n            Newsletter\n          </h1>\n          <div>\n            Sign up for the Gatsby newsletter to keep up with the latest from\n            the Gatsby community! Hear about new features, tips & tricks, and\n            what people are building.\n          </div>\n\n          <EmailCaptureForm\n            signupMessage=\"Sign up for the Gatsby Newsletter\"\n            confirmMessage=\"Success! You have been subscribed to the Gatsby newsletter. Expect to see a newsletter in your inbox each Wednesday (or the equivalent of US Wednesday in your time zone)!\"\n            overrideCSS={{\n              marginTop: rhythm(1),\n              paddingTop: rhythm(1 / 2),\n              borderTop: `2px solid ${colors.lilac}`,\n            }}\n          />\n        </Container>\n      </Layout>\n    )\n  }\n}\n\nexport default NewsLetter\n","import React from \"react\"\nimport presets from \"../utils/presets\"\n\nimport { rhythm, options } from \"../utils/typography\"\n\nconst Container = ({\n  children,\n  className = ``,\n  hasSideBar = true,\n  overrideCSS = {},\n}) => (\n  <div\n    css={{\n      maxWidth: hasSideBar\n        ? rhythm(presets.maxWidthWithSidebar)\n        : rhythm(presets.maxWidth),\n      margin: `0 auto`,\n      padding: `${rhythm(2)} ${rhythm(options.blockMarginBottom)}`,\n      paddingBottom: rhythm(3.5),\n      position: `relative`,\n      [presets.Tablet]: {\n        paddingBottom: rhythm(1.5),\n      },\n      ...overrideCSS,\n    }}\n    className={className}\n  >\n    {children}\n  </div>\n)\n\nexport default Container\n","import presets, { colors } from \"../utils/presets\"\nimport { rhythm, options } from \"../utils/typography\"\n\nexport const formInput = {\n  backgroundColor: `#fff`,\n  border: `1px solid ${colors.ui.bright}`,\n  borderRadius: presets.radius,\n  color: colors.brand,\n  fontFamily: options.headerFontFamily.join(`,`),\n  padding: rhythm(1 / 2),\n  verticalAlign: `middle`,\n  transition: `all ${presets.animation.speedDefault} ${\n    presets.animation.curveDefault\n  }`,\n  \"::placeholder\": {\n    color: colors.gatsby,\n    opacity: 1,\n  },\n}\n","import React from \"react\"\nimport styled from \"react-emotion\"\n\nimport SendIcon from \"react-icons/lib/md/send\"\n\nimport { rhythm, options } from \"../utils/typography\"\nimport presets, { colors } from \"../utils/presets\"\nimport hex2rgba from \"hex2rgba\"\nimport { formInput } from \"../utils/form-styles\"\nimport { buttonStyles } from \"../utils/styles\"\n\nconst StyledForm = styled(`form`)`\n  margin: 0;\n\n  ${presets.Desktop} {\n    display: ${props => (props.isHomepage ? `flex` : `block`)};\n  }\n`\n\nconst Label = styled(`label`)`\n  :after {\n    content: ${props => (props.isRequired ? `'*'` : ``)};\n    color: ${colors.warning};\n  }\n`\n\nconst SingleLineInput = styled(`input`)`\n  ${formInput};\n  width: 100%;\n\n  :focus {\n    border-color: ${colors.gatsby};\n    outline: 0;\n    box-shadow: 0 0 0 0.2rem ${hex2rgba(colors.lilac, 0.25)};\n  }\n`\n\nconst SingleLineInputOnHomepage = styled(SingleLineInput)`\n  font-family: ${options.systemFontFamily.join(`,`)};\n  font-size: 1rem;\n  padding: 0.6rem;\n`\n\nconst ErrorMessage = styled(`div`)`\n  color: ${colors.warning};\n  font-family: ${options.systemFontFamily.join(`,`)};\n  font-size: 0.875rem;\n  margin: calc(1.05rem / 2) 0;\n`\n\nconst SuccesMessage = styled(`div`)`\n  font-family: ${options.systemFontFamily.join(`,`)};\n`\n\nconst Submit = styled(`input`)`\n  ${buttonStyles.default};\n  margin-top: 20px;\n`\n\nconst SubmitOnHomepage = styled(`button`)`\n  ${buttonStyles.default};\n  font-size: 1.125rem;\n  width: 100%;\n  margin-top: 10px;\n\n  span {\n    align-items: center;\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n  }\n\n  ${presets.Desktop} {\n    width: auto;\n    margin-top: 0;\n    margin-left: 0.5rem;\n  }\n`\n\nclass Form extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.onSubmit = this.onSubmit.bind(this)\n\n    // let's use uncontrolled components https://reactjs.org/docs/uncontrolled-components.html\n    this.email = null\n  }\n\n  state = {\n    errorMessage: ``,\n    fieldErrors: {},\n  }\n\n  onSubmit(e) {\n    e.preventDefault()\n\n    // validation here or use Formik or something like that\n    // we can also rely on server side validation like I do right now\n\n    const { portalId, formId, sfdcCampaignId } = this.props\n    const url = `https://api.hsforms.com/submissions/v3/integration/submit/${portalId}/${formId}`\n    const data = {\n      fields: [\n        {\n          name: `email`,\n          value: this.email.value,\n        },\n      ],\n      context: {\n        pageUri: window.location.href,\n        pageName: document.title,\n      },\n    }\n\n    if (sfdcCampaignId) {\n      data.context.sfdcCampaignId = sfdcCampaignId\n    }\n\n    const xhr = new XMLHttpRequest()\n    xhr.open(`POST`, url, false)\n    xhr.setRequestHeader(`Content-Type`, `application/json`)\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState == 4) {\n        const response = JSON.parse(xhr.responseText)\n        if (xhr.status == 200) {\n          // https://developers.hubspot.com/docs/methods/forms/submit_form_ajax\n          // docs mention response should \"thankYouMessage\" field,\n          // but I get inlineMessage in my testing\n          this.props.onSuccess(\n            response.thankYouMessage || response.inlineMessage\n          )\n        } else {\n          let errorMessage,\n            fieldErrors = {}\n          if (response.errors) {\n            // {\"message\":\"Error in 'fields.email'. Invalid email address\",\"errorType\":\"INVALID_EMAIL\"}\n            // {\"message\":\"Error in 'fields.email'. Required field 'email' is missing\",\"errorType\":\"REQUIRED_FIELD\"}\n\n            const errorRe = /^Error in 'fields.([^']+)'. (.+)$/\n            response.errors.map(error => {\n              const [, fieldName, message] = errorRe.exec(error.message)\n              fieldErrors[fieldName] = message\n            })\n\n            // hubspot use \"The request is not valid\" message, so probably better use custom one\n            errorMessage = `Errors in the form`\n          } else {\n            errorMessage = response.message\n          }\n\n          this.setState({ fieldErrors, errorMessage })\n        }\n      }\n    }\n\n    xhr.send(JSON.stringify(data))\n  }\n\n  render() {\n    const { isHomepage } = this.props\n\n    const SingleLineInputComponent = isHomepage\n      ? SingleLineInputOnHomepage\n      : SingleLineInput\n\n    return (\n      <StyledForm onSubmit={this.onSubmit} isHomepage={isHomepage}>\n        {!isHomepage && (\n          <Label isRequired htmlFor=\"email\">\n            Email\n          </Label>\n        )}\n        <SingleLineInputComponent\n          id=\"email\"\n          name=\"email\"\n          type=\"email\"\n          required\n          autoComplete=\"email\"\n          innerRef={input => {\n            this.email = input\n          }}\n          aria-label={isHomepage ? `Email` : ``}\n          placeholder={isHomepage ? `your.email@example.com` : ``}\n        />\n        {this.state.fieldErrors.email && (\n          <ErrorMessage>{this.state.fieldErrors.email}</ErrorMessage>\n        )}\n        {this.state.errorMessage && (\n          <ErrorMessage>{this.state.errorMessage}</ErrorMessage>\n        )}\n\n        {isHomepage ? (\n          <SubmitOnHomepage type=\"submit\">\n            <span>\n              Subscribe\n              <SendIcon />\n            </span>\n          </SubmitOnHomepage>\n        ) : (\n          <Submit type=\"submit\" value=\"Subscribe\" />\n        )}\n      </StyledForm>\n    )\n  }\n}\n\nclass EmailCaptureForm extends React.Component {\n  constructor(props) {\n    super(props)\n    this.onSuccess = this.onSuccess.bind(this)\n  }\n\n  state = {\n    successMessage: ``,\n  }\n\n  onSuccess(successMessage) {\n    this.setState({ successMessage })\n  }\n\n  render() {\n    const { signupMessage, overrideCSS, isHomepage, className } = this.props\n\n    const FormComponent = props => (\n      <Form\n        onSuccess={this.onSuccess}\n        portalId=\"4731712\"\n        formId=\"089352d8-a617-4cba-ba46-6e52de5b6a1d\"\n        sfdcCampaignId=\"701f4000000Us7pAAC\"\n        {...props}\n      />\n    )\n\n    return (\n      <React.Fragment>\n        {isHomepage ? (\n          <div className={className}>\n            {this.state.successMessage ? (\n              <SuccesMessage\n                dangerouslySetInnerHTML={{ __html: this.state.successMessage }}\n              />\n            ) : (\n              <FormComponent isHomepage={true} />\n            )}\n          </div>\n        ) : (\n          <div\n            css={{\n              borderTop: `2px solid ${colors.lilac}`,\n              fontFamily: options.headerFontFamily.join(`,`),\n              marginTop: rhythm(3),\n              paddingTop: `${rhythm(1)}`,\n              ...overrideCSS,\n            }}\n          >\n            <div>\n              <p>{signupMessage}</p>\n              <div\n                css={{\n                  backgroundColor: colors.ui.light,\n                  borderRadius: presets.radius,\n                  color: colors.gatsby,\n                  fontFamily: options.headerFontFamily.join(`,`),\n                  padding: `15px`,\n                }}\n              >\n                {this.state.successMessage ? (\n                  <div\n                    dangerouslySetInnerHTML={{\n                      __html: this.state.successMessage,\n                    }}\n                  />\n                ) : (\n                  <FormComponent />\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </React.Fragment>\n    )\n  }\n}\n\nEmailCaptureForm.defaultProps = {\n  signupMessage: `Make A Reservation.`,\n  confirmMessage: `Thank you! You reservation is sent to your email.`,\n  overrideCSS: {},\n  isHomepage: false,\n  className: ``,\n}\n\nexport default EmailCaptureForm\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIconBase = require('react-icon-base');\n\nvar _reactIconBase2 = _interopRequireDefault(_reactIconBase);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MdSend = function MdSend(props) {\n    return _react2.default.createElement(\n        _reactIconBase2.default,\n        _extends({ viewBox: '0 0 40 40' }, props),\n        _react2.default.createElement(\n            'g',\n            null,\n            _react2.default.createElement('path', { d: 'm3.4 35v-11.6l25-3.4-25-3.4v-11.6l35 15z' })\n        )\n    );\n};\n\nexports.default = MdSend;\nmodule.exports = exports['default'];"],"sourceRoot":""}